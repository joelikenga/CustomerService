services:
  - type: web
    name: customer-service-backend
    runtime: go
    buildCommand: go build -o bin/server cmd/main.go
    startCommand: ./bin/server
    envVars:
      - key: PORT
        value: 8080
      - key: GIN_MODE
        value: release
    healthCheckPath: /health
    autoDeploy: true

  - type: cron
    name: keep-alive-cron
    schedule: "*/14 * * * *"  # Every 14 minutes
    buildCommand: echo "Cron job ready"
    startCommand: curl https://customer-service-backend.onrender.com/health
